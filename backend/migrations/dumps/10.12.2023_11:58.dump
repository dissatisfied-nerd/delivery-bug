--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4
-- Dumped by pg_dump version 15.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: addresses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.addresses (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    city character varying(128),
    street character varying(128),
    building integer,
    entrance integer,
    floor integer,
    apartment integer
);


ALTER TABLE public.addresses OWNER TO postgres;

--
-- Name: administrators; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.administrators (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128)
);


ALTER TABLE public.administrators OWNER TO postgres;

--
-- Name: clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    balance double precision,
    address_id uuid
);


ALTER TABLE public.clients OWNER TO postgres;

--
-- Name: clients_loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients_loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    client_id uuid
);


ALTER TABLE public.clients_loginform OWNER TO postgres;

--
-- Name: couriers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.couriers (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    registration boolean NOT NULL,
    address_id uuid
);


ALTER TABLE public.couriers OWNER TO postgres;

--
-- Name: couriers_loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.couriers_loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    courier_id uuid
);


ALTER TABLE public.couriers_loginform OWNER TO postgres;

--
-- Name: loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    client_id uuid
);


ALTER TABLE public.loginform OWNER TO postgres;

--
-- Name: order_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_products (
    amount integer,
    order_id uuid NOT NULL,
    product_id uuid NOT NULL
);


ALTER TABLE public.order_products OWNER TO postgres;

--
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    price double precision,
    creation_time timestamp without time zone,
    delivery_time timestamp without time zone,
    status character varying(255),
    client_id uuid,
    courier_id uuid
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- Name: products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    name character varying(128),
    price double precision,
    weight double precision,
    description character varying(512),
    image bytea,
    administrator_id uuid,
    CONSTRAINT products_price_check CHECK ((price > (0)::double precision))
);


ALTER TABLE public.products OWNER TO postgres;

--
-- Name: products_stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products_stores (
    product_id uuid NOT NULL,
    store_id uuid NOT NULL
);


ALTER TABLE public.products_stores OWNER TO postgres;

--
-- Name: reviews; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reviews (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    mark integer,
    client_id uuid,
    order_id uuid,
    product_id uuid
);


ALTER TABLE public.reviews OWNER TO postgres;

--
-- Name: stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stores (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    reputation integer,
    name character varying(128)
);


ALTER TABLE public.stores OWNER TO postgres;

--
-- Data for Name: addresses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.addresses (id, city, street, building, entrance, floor, apartment) FROM stdin;
2448d04f-fbbf-4848-846f-515e9d1671f2	City1	Street1	123	1	2	3
93284c49-f157-4747-9522-eea0e0a748cc	City2	Street2	456	4	5	6
35f8534c-2b59-4cc4-8ea4-63149c92bc8d	City3	Street3	789	7	8	9
2da95019-1858-4fdf-9e70-15d694f33a7b	City4	Street4	101	10	11	12
ae785d58-af21-4e70-b319-3ca764759bf3	City5	Street5	121	13	14	15
7992a6c1-7070-4253-b28d-549fd06a8b56	Churlmenia	Street1	123	1	2	3
322926d9-a4f8-4480-8892-0178b2f77bfe	Churlmenia	Street2	456	4	5	6
4edb5269-0711-4ddb-96fb-69eacefe127b	Churlmenia	Street3	789	7	8	9
f1afe515-7ef1-4fdc-a61a-fe0995780745	Churlmenia	Street4	101	10	11	12
5ce27b54-9e06-4fe2-be44-3d031caa3593	Churlmenia	Street5	121	13	14	15
\.


--
-- Data for Name: administrators; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.administrators (id, first_name, last_name) FROM stdin;
eb82d8b6-685b-41c9-a906-5d8bb43e6d22	Admin1_First	Admin1_Last
b81a36d3-a47a-4cd9-902c-d849492958bc	Admin2_First	Admin2_Last
a4fecd7d-5062-464f-a250-e0b453496727	Admin3_First	Admin3_Last
5fa2b752-9c7c-412c-9c98-a0bf8a7b4721	Admin4_First	Admin4_Last
1ae9a5f7-ae7c-46ad-84ed-a54c38c38de7	Admin5_First	Admin5_Last
\.


--
-- Data for Name: clients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients (id, first_name, last_name, balance, address_id) FROM stdin;
0317b98b-e200-42a6-bfbb-bd6a55e30458	Client1_First	Client1_Last	100.5	5ce27b54-9e06-4fe2-be44-3d031caa3593
2a75f246-185b-4b5d-a63f-407a232c52f9	Client2_First	Client2_Last	200.75	f1afe515-7ef1-4fdc-a61a-fe0995780745
b81b0870-b526-4735-ad43-6e16ce63b01e	Client3_First	Client3_Last	300.25	35f8534c-2b59-4cc4-8ea4-63149c92bc8d
90b16816-2fdd-4909-bb24-3eefe719ab1a	Client4_First	Client4_Last	400.75	ae785d58-af21-4e70-b319-3ca764759bf3
8da0c84c-4d3c-4acd-a631-7e71afaa663c	Client5_First	Client5_Last	500.25	2da95019-1858-4fdf-9e70-15d694f33a7b
\.


--
-- Data for Name: clients_loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients_loginform (login, password, client_id) FROM stdin;
user1	password1	0317b98b-e200-42a6-bfbb-bd6a55e30458
user2	password2	2a75f246-185b-4b5d-a63f-407a232c52f9
user3	password3	b81b0870-b526-4735-ad43-6e16ce63b01e
user4	password4	90b16816-2fdd-4909-bb24-3eefe719ab1a
user5	password5	8da0c84c-4d3c-4acd-a631-7e71afaa663c
\.


--
-- Data for Name: couriers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.couriers (id, first_name, last_name, registration, address_id) FROM stdin;
a096008b-54c8-4e11-b916-114f880a38a3	Courier1_First	Courier1_Last	t	\N
e44a7331-f09b-42c6-b870-418e6212604f	Courier2_First	Courier2_Last	t	\N
91f068bb-1275-4c23-bca0-744668bbde0b	Courier3_First	Courier3_Last	t	\N
2d29f75b-d6ac-46f9-a593-4f06d74c4205	Courier4_First	Courier4_Last	t	\N
eec4639e-5292-4fb2-9345-0933852664a9	Courier5_First	Courier5_Last	t	\N
\.


--
-- Data for Name: couriers_loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.couriers_loginform (login, password, courier_id) FROM stdin;
courier1	courierpass1	\N
courier2	courierpass2	\N
courier3	courierpass3	\N
courier4	courierpass4	\N
courier5	courierpass5	\N
\.


--
-- Data for Name: loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.loginform (login, password, client_id) FROM stdin;
user1	password1	8f12edc6-d7c1-412d-ad31-4efbc006edd5
user2	password2	7020b467-2fba-456c-a28e-8b36733be207
user3	password3	3aa3f485-5676-4c75-9574-4c9b12c056c2
user4	password4	03771bf4-8a62-4df7-a50d-74bf600b5de2
user5	password5	33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5
\.


--
-- Data for Name: order_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_products (amount, order_id, product_id) FROM stdin;
2	b22710aa-6d62-4bfd-94b6-20d1af36262d	e4cbe920-770f-478f-9072-eab7d1362401
1	9b5a945e-5323-4d14-9323-f77d06843cb0	cf8ee651-6950-4be0-abea-425fd2d3bd94
3	af91ee19-0b69-4d69-9232-5e929f0d8d59	c951b398-1788-49ba-8f42-aea1c416b5d4
4	ff389583-b191-445a-8bb8-b4dd77b336ec	c951b398-1788-49ba-8f42-aea1c416b5d4
5	ec13008d-12e8-40ec-af26-b4c737fc6b2a	20391412-669a-4662-a28b-0a6da15eb367
\.


--
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (id, price, creation_time, delivery_time, status, client_id, courier_id) FROM stdin;
ff389583-b191-445a-8bb8-b4dd77b336ec	49.99	2023-12-09 21:09:02.460452	\N	Поиск курьера	0317b98b-e200-42a6-bfbb-bd6a55e30458	2d29f75b-d6ac-46f9-a593-4f06d74c4205
b22710aa-6d62-4bfd-94b6-20d1af36262d	59.99	2023-12-09 21:09:02.460452	\N	Поиск курьера	2a75f246-185b-4b5d-a63f-407a232c52f9	2d29f75b-d6ac-46f9-a593-4f06d74c4205
9b5a945e-5323-4d14-9323-f77d06843cb0	69.99	2023-12-09 21:09:02.460452	\N	У курьера	b81b0870-b526-4735-ad43-6e16ce63b01e	91f068bb-1275-4c23-bca0-744668bbde0b
af91ee19-0b69-4d69-9232-5e929f0d8d59	79.99	2023-12-09 21:09:02.460452	\N	У курьера	90b16816-2fdd-4909-bb24-3eefe719ab1a	eec4639e-5292-4fb2-9345-0933852664a9
ec13008d-12e8-40ec-af26-b4c737fc6b2a	89.99	2023-12-09 21:09:02.460452	\N	У курьера	8da0c84c-4d3c-4acd-a631-7e71afaa663c	e44a7331-f09b-42c6-b870-418e6212604f
\.


--
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products (id, name, price, weight, description, image, administrator_id) FROM stdin;
20391412-669a-4662-a28b-0a6da15eb367	Product1	19.99	0.5	Description1	\N	\N
cf8ee651-6950-4be0-abea-425fd2d3bd94	Product2	29.99	1	Description2	\N	\N
c951b398-1788-49ba-8f42-aea1c416b5d4	Product3	39.99	1.5	Description3	\N	\N
e4cbe920-770f-478f-9072-eab7d1362401	Product4	49.99	2	Description4	\N	\N
4a3a1368-7893-4448-806c-7e64bce2aabe	Product5	59.99	2.5	Description5	\N	\N
\.


--
-- Data for Name: products_stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products_stores (product_id, store_id) FROM stdin;
\.


--
-- Data for Name: reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reviews (id, mark, client_id, order_id, product_id) FROM stdin;
14854ffd-8964-421c-8c4c-588ee637738f	5	0317b98b-e200-42a6-bfbb-bd6a55e30458	b22710aa-6d62-4bfd-94b6-20d1af36262d	cf8ee651-6950-4be0-abea-425fd2d3bd94
d096ebd4-0a07-4936-8a8d-1a834d78ee21	4	2a75f246-185b-4b5d-a63f-407a232c52f9	af91ee19-0b69-4d69-9232-5e929f0d8d59	4a3a1368-7893-4448-806c-7e64bce2aabe
7f2fc618-e15c-4a89-9228-6ccf4b751276	3	b81b0870-b526-4735-ad43-6e16ce63b01e	af91ee19-0b69-4d69-9232-5e929f0d8d59	c951b398-1788-49ba-8f42-aea1c416b5d4
adeecd3d-c1f0-4dd3-a080-186cf4eb0187	2	90b16816-2fdd-4909-bb24-3eefe719ab1a	ec13008d-12e8-40ec-af26-b4c737fc6b2a	c951b398-1788-49ba-8f42-aea1c416b5d4
945e1477-2bc6-4cf7-9a0e-ff92f3e73dd6	1	8da0c84c-4d3c-4acd-a631-7e71afaa663c	af91ee19-0b69-4d69-9232-5e929f0d8d59	20391412-669a-4662-a28b-0a6da15eb367
\.


--
-- Data for Name: stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.stores (id, reputation, name) FROM stdin;
a6c6f04d-0305-4433-8118-8adc1ef5944b	4	Store1
4219e1cc-12cb-4c60-935d-41640bd50dc1	5	Store2
b50b208a-db65-4baa-96f6-d0a30c3c58e6	3	Store3
7d5d33f8-58ce-49e9-b8b7-11b15d9887cc	2	Store4
2c1c0034-e239-40aa-8cc9-7be70341bacb	1	Store5
\.


--
-- Name: addresses addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT addresses_pkey PRIMARY KEY (id);


--
-- Name: administrators administrators_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.administrators
    ADD CONSTRAINT administrators_pkey PRIMARY KEY (id);


--
-- Name: clients_loginform clients_loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients_loginform
    ADD CONSTRAINT clients_loginform_pkey PRIMARY KEY (login);


--
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- Name: couriers_loginform couriers_loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers_loginform
    ADD CONSTRAINT couriers_loginform_pkey PRIMARY KEY (login);


--
-- Name: couriers couriers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers
    ADD CONSTRAINT couriers_pkey PRIMARY KEY (id);


--
-- Name: loginform loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.loginform
    ADD CONSTRAINT loginform_pkey PRIMARY KEY (login);


--
-- Name: order_products order_products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_pkey PRIMARY KEY (order_id, product_id);


--
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (id);


--
-- Name: products_stores products_stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_pkey PRIMARY KEY (product_id, store_id);


--
-- Name: reviews reviews_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_pkey PRIMARY KEY (id);


--
-- Name: stores stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_pkey PRIMARY KEY (id);


--
-- Name: clients clients_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.addresses(id);


--
-- Name: clients_loginform clients_loginform_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients_loginform
    ADD CONSTRAINT clients_loginform_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: couriers couriers_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers
    ADD CONSTRAINT couriers_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.addresses(id);


--
-- Name: couriers_loginform couriers_loginform_courier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers_loginform
    ADD CONSTRAINT couriers_loginform_courier_id_fkey FOREIGN KEY (courier_id) REFERENCES public.couriers(id);


--
-- Name: order_products order_products_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: order_products order_products_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: orders orders_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: orders orders_courier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_courier_id_fkey FOREIGN KEY (courier_id) REFERENCES public.couriers(id);


--
-- Name: products products_administrator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_administrator_id_fkey FOREIGN KEY (administrator_id) REFERENCES public.administrators(id);


--
-- Name: products_stores products_stores_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: products_stores products_stores_store_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_store_id_fkey FOREIGN KEY (store_id) REFERENCES public.stores(id);


--
-- Name: reviews reviews_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: reviews reviews_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: reviews reviews_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- PostgreSQL database dump complete
--

