--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4
-- Dumped by pg_dump version 15.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: addresses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.addresses (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    city character varying(128),
    street character varying(128),
    building integer,
    entrance integer,
    floor integer,
    apartment integer
);


ALTER TABLE public.addresses OWNER TO postgres;

--
-- Name: administrators; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.administrators (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128)
);


ALTER TABLE public.administrators OWNER TO postgres;

--
-- Name: clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    balance double precision,
    address_id uuid
);


ALTER TABLE public.clients OWNER TO postgres;

--
-- Name: couriers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.couriers (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    registration character varying(128) NOT NULL
);


ALTER TABLE public.couriers OWNER TO postgres;

--
-- Name: loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    client_id uuid
);


ALTER TABLE public.loginform OWNER TO postgres;

--
-- Name: order_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_products (
    amount integer,
    order_id uuid NOT NULL,
    product_id uuid NOT NULL
);


ALTER TABLE public.order_products OWNER TO postgres;

--
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    price double precision,
    creation_time timestamp without time zone,
    delivery_time timestamp without time zone,
    client_id uuid,
    courier_id uuid
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- Name: products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    name character varying(128),
    price double precision,
    weight double precision,
    description character varying(512),
    image bytea,
    adminstrator_id uuid,
    CONSTRAINT products_price_check CHECK ((price > (0)::double precision))
);


ALTER TABLE public.products OWNER TO postgres;

--
-- Name: products_stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products_stores (
    product_id uuid NOT NULL,
    store_id uuid NOT NULL
);


ALTER TABLE public.products_stores OWNER TO postgres;

--
-- Name: reviews; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reviews (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    mark integer,
    client_id uuid,
    order_id uuid,
    product_id uuid
);


ALTER TABLE public.reviews OWNER TO postgres;

--
-- Name: stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stores (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    reputation integer,
    name character varying(128)
);


ALTER TABLE public.stores OWNER TO postgres;

--
-- Data for Name: addresses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.addresses (id, city, street, building, entrance, floor, apartment) FROM stdin;
0ced6ae0-6931-4ad4-8666-f9ed282388b1	City1	Street1	123	1	2	3
f510d32d-aee2-4249-ad57-f4a8fb1ca0ec	City2	Street2	456	4	5	6
6d28590b-ecba-48ef-ac94-44b8f33f95d1	City3	Street3	789	7	8	9
c9384988-0e53-4dd6-b8e1-90c9e0bdb1f2	City4	Street4	101	10	11	12
7e5bf271-af28-4f26-9c50-8db0ee065cf0	City5	Street5	121	13	14	15
\.


--
-- Data for Name: administrators; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.administrators (id, first_name, last_name) FROM stdin;
9304456e-0f88-4e51-a671-bb93eafab023	Admin1_First	Admin1_Last
1a9a6a56-6dc6-4e47-92e3-6164119466de	Admin2_First	Admin2_Last
ff0e453b-5435-489a-8f0b-12692e58fbd1	Admin3_First	Admin3_Last
39464c48-6c4c-43f5-962e-6c75d8c23659	Admin4_First	Admin4_Last
d1fc050e-2b31-4478-86f6-95b25e29b4c7	Admin5_First	Admin5_Last
\.


--
-- Data for Name: clients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients (id, first_name, last_name, balance, address_id) FROM stdin;
8f12edc6-d7c1-412d-ad31-4efbc006edd5	Client1_First	Client1_Last	100.5	0ced6ae0-6931-4ad4-8666-f9ed282388b1
7020b467-2fba-456c-a28e-8b36733be207	Client2_First	Client2_Last	200.75	6d28590b-ecba-48ef-ac94-44b8f33f95d1
3aa3f485-5676-4c75-9574-4c9b12c056c2	Client3_First	Client3_Last	300.25	6d28590b-ecba-48ef-ac94-44b8f33f95d1
03771bf4-8a62-4df7-a50d-74bf600b5de2	Client4_First	Client4_Last	400.75	7e5bf271-af28-4f26-9c50-8db0ee065cf0
33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5	Client5_First	Client5_Last	500.25	7e5bf271-af28-4f26-9c50-8db0ee065cf0
\.


--
-- Data for Name: couriers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.couriers (id, first_name, last_name, registration) FROM stdin;
24ecfa8a-d61c-44f6-a64e-177802c3ef9e	Courier1_First	Courier1_Last	Country1
988910a7-da1f-498f-8c41-f2631de9e132	Courier2_First	Courier2_Last	Country2
8436cc20-74c1-408e-940e-e12b2b99a3dc	Courier3_First	Courier3_Last	Country3
28bbfe58-4b92-407d-a3d4-62eed02a2ca9	Courier4_First	Courier4_Last	Country4
44eaecff-bd36-4fac-88cb-6937c48bf1d0	Courier5_First	Courier5_Last	Country5
\.


--
-- Data for Name: loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.loginform (login, password, client_id) FROM stdin;
user1	password1	8f12edc6-d7c1-412d-ad31-4efbc006edd5
user2	password2	7020b467-2fba-456c-a28e-8b36733be207
user3	password3	3aa3f485-5676-4c75-9574-4c9b12c056c2
user4	password4	03771bf4-8a62-4df7-a50d-74bf600b5de2
user5	password5	33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5
\.


--
-- Data for Name: order_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_products (amount, order_id, product_id) FROM stdin;
2	7794d534-be1b-4e37-8ae6-13889a9ba598	c4ac4bb6-90dd-4e02-a22f-9d2e4fdce307
1	1328dee8-00f2-402b-9fb1-b83576d70be9	cfde7a68-8aea-4e59-92ac-b5ed6d7057a1
3	a2ef7f29-3ee0-4dec-8ed8-3995bcc29437	bac8f1c2-fd30-4f9a-913d-37c7138736f1
4	492d594a-21c0-4e3d-918d-0442e384b880	bac8f1c2-fd30-4f9a-913d-37c7138736f1
5	5127e1d3-d23f-4949-b932-4bd276f28f21	cfde7a68-8aea-4e59-92ac-b5ed6d7057a1
\.


--
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (id, price, creation_time, delivery_time, client_id, courier_id) FROM stdin;
7794d534-be1b-4e37-8ae6-13889a9ba598	49.99	2023-12-06 16:49:40.987727	\N	8f12edc6-d7c1-412d-ad31-4efbc006edd5	44eaecff-bd36-4fac-88cb-6937c48bf1d0
5127e1d3-d23f-4949-b932-4bd276f28f21	59.99	2023-12-06 16:49:40.987727	\N	7020b467-2fba-456c-a28e-8b36733be207	8436cc20-74c1-408e-940e-e12b2b99a3dc
a2ef7f29-3ee0-4dec-8ed8-3995bcc29437	69.99	2023-12-06 16:49:40.987727	\N	3aa3f485-5676-4c75-9574-4c9b12c056c2	44eaecff-bd36-4fac-88cb-6937c48bf1d0
1328dee8-00f2-402b-9fb1-b83576d70be9	79.99	2023-12-06 16:49:40.987727	\N	03771bf4-8a62-4df7-a50d-74bf600b5de2	44eaecff-bd36-4fac-88cb-6937c48bf1d0
492d594a-21c0-4e3d-918d-0442e384b880	89.99	2023-12-06 16:49:40.987727	\N	33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5	988910a7-da1f-498f-8c41-f2631de9e132
\.


--
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products (id, name, price, weight, description, image, adminstrator_id) FROM stdin;
933006f8-511f-4c65-be6d-fcd0d4a6ed37	Product1	19.99	0.5	Description1	\N	\N
c4ac4bb6-90dd-4e02-a22f-9d2e4fdce307	Product2	29.99	1	Description2	\N	\N
c98e425b-ea7c-40e8-83d5-ce44fd9551e2	Product3	39.99	1.5	Description3	\N	\N
cfde7a68-8aea-4e59-92ac-b5ed6d7057a1	Product4	49.99	2	Description4	\N	\N
bac8f1c2-fd30-4f9a-913d-37c7138736f1	Product5	59.99	2.5	Description5	\N	\N
\.


--
-- Data for Name: products_stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products_stores (product_id, store_id) FROM stdin;
\.


--
-- Data for Name: reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reviews (id, mark, client_id, order_id, product_id) FROM stdin;
bb36b65f-f426-43e3-9c98-b987df64ebf5	5	8f12edc6-d7c1-412d-ad31-4efbc006edd5	a2ef7f29-3ee0-4dec-8ed8-3995bcc29437	933006f8-511f-4c65-be6d-fcd0d4a6ed37
40eae728-36a3-4a24-901b-bbd653c92614	4	7020b467-2fba-456c-a28e-8b36733be207	7794d534-be1b-4e37-8ae6-13889a9ba598	bac8f1c2-fd30-4f9a-913d-37c7138736f1
a7ff5e89-4679-4297-82c5-86376f845980	3	3aa3f485-5676-4c75-9574-4c9b12c056c2	5127e1d3-d23f-4949-b932-4bd276f28f21	c4ac4bb6-90dd-4e02-a22f-9d2e4fdce307
4945a15a-09aa-4ef3-9d75-603898502973	2	03771bf4-8a62-4df7-a50d-74bf600b5de2	492d594a-21c0-4e3d-918d-0442e384b880	933006f8-511f-4c65-be6d-fcd0d4a6ed37
0f771275-4e3d-4553-82ad-f577c4c25a86	1	33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5	1328dee8-00f2-402b-9fb1-b83576d70be9	cfde7a68-8aea-4e59-92ac-b5ed6d7057a1
\.


--
-- Data for Name: stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.stores (id, reputation, name) FROM stdin;
2f3a3b1f-c62c-4c04-b660-44d57d7ec4df	4	Store1
de32ee7c-c9e7-42cd-9e81-57bb7232b657	5	Store2
9bbdfd8a-bfbb-4a2b-b8ef-3d3fbf65ec58	3	Store3
fd204d03-28c5-4c7a-aeb0-3f9d3cd96b4d	2	Store4
3c779a28-50a9-41b2-9b91-a0f40f355410	1	Store5
\.


--
-- Name: addresses addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT addresses_pkey PRIMARY KEY (id);


--
-- Name: administrators administrators_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.administrators
    ADD CONSTRAINT administrators_pkey PRIMARY KEY (id);


--
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- Name: couriers couriers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers
    ADD CONSTRAINT couriers_pkey PRIMARY KEY (id);


--
-- Name: loginform loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.loginform
    ADD CONSTRAINT loginform_pkey PRIMARY KEY (login);


--
-- Name: order_products order_products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_pkey PRIMARY KEY (order_id, product_id);


--
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (id);


--
-- Name: products_stores products_stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_pkey PRIMARY KEY (product_id, store_id);


--
-- Name: reviews reviews_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_pkey PRIMARY KEY (id);


--
-- Name: stores stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_pkey PRIMARY KEY (id);


--
-- Name: clients clients_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.addresses(id);


--
-- Name: loginform loginform_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.loginform
    ADD CONSTRAINT loginform_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: order_products order_products_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: order_products order_products_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: orders orders_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: orders orders_courier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_courier_id_fkey FOREIGN KEY (courier_id) REFERENCES public.couriers(id);


--
-- Name: products products_adminstrator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_adminstrator_id_fkey FOREIGN KEY (adminstrator_id) REFERENCES public.administrators(id);


--
-- Name: products_stores products_stores_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: products_stores products_stores_store_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_store_id_fkey FOREIGN KEY (store_id) REFERENCES public.stores(id);


--
-- Name: reviews reviews_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: reviews reviews_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: reviews reviews_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- PostgreSQL database dump complete
--

