--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4
-- Dumped by pg_dump version 15.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: addresses; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.addresses (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    city character varying(128),
    street character varying(128),
    building integer,
    entrance integer,
    floor integer,
    apartment integer
);


ALTER TABLE public.addresses OWNER TO postgres;

--
-- Name: administrators; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.administrators (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128)
);


ALTER TABLE public.administrators OWNER TO postgres;

--
-- Name: clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    balance double precision,
    address_id uuid
);


ALTER TABLE public.clients OWNER TO postgres;

--
-- Name: clients_loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients_loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    client_id uuid
);


ALTER TABLE public.clients_loginform OWNER TO postgres;

--
-- Name: couriers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.couriers (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    first_name character varying(128),
    last_name character varying(128),
    registration boolean NOT NULL,
    address_id uuid
);


ALTER TABLE public.couriers OWNER TO postgres;

--
-- Name: couriers_loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.couriers_loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    courier_id uuid
);


ALTER TABLE public.couriers_loginform OWNER TO postgres;

--
-- Name: loginform; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.loginform (
    login character varying(128) NOT NULL,
    password character varying(128),
    client_id uuid
);


ALTER TABLE public.loginform OWNER TO postgres;

--
-- Name: order_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.order_products (
    amount integer,
    order_id uuid NOT NULL,
    product_id uuid NOT NULL
);


ALTER TABLE public.order_products OWNER TO postgres;

--
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    price double precision,
    creation_time timestamp without time zone,
    delivery_time timestamp without time zone,
    status character varying(255),
    client_id uuid,
    courier_id uuid
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- Name: products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    name character varying(128),
    price double precision,
    weight double precision,
    description character varying(512),
    image bytea,
    administrator_id uuid,
    CONSTRAINT products_price_check CHECK ((price > (0)::double precision))
);


ALTER TABLE public.products OWNER TO postgres;

--
-- Name: products_stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.products_stores (
    product_id uuid NOT NULL,
    store_id uuid NOT NULL
);


ALTER TABLE public.products_stores OWNER TO postgres;

--
-- Name: reviews; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reviews (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    mark integer,
    client_id uuid,
    order_id uuid,
    product_id uuid
);


ALTER TABLE public.reviews OWNER TO postgres;

--
-- Name: stores; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.stores (
    id uuid DEFAULT public.uuid_generate_v4() NOT NULL,
    reputation integer,
    name character varying(128)
);


ALTER TABLE public.stores OWNER TO postgres;

--
-- Data for Name: addresses; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.addresses (id, city, street, building, entrance, floor, apartment) FROM stdin;
d20af279-db54-4040-8582-11043858ad97	City1	Street1	123	1	2	3
63faa4e9-9d71-4664-8574-73bff77ec2a6	City2	Street2	456	4	5	6
5f8eef14-abd3-4177-ab5d-6cd7f3ba0f0b	City3	Street3	789	7	8	9
a11bf119-7200-4458-a6fb-4c10672142c1	City4	Street4	101	10	11	12
d296a4db-4888-42a1-aee9-2121eb308093	City5	Street5	121	13	14	15
0cba73cd-25b9-47a7-b351-5fa273882b7e	Churlmenia	Street1	123	1	2	3
63e3dabc-0625-48d4-8f36-e718e82d57b3	Churlmenia	Street2	456	4	5	6
835689c0-dc36-4634-9db2-3ff354fec170	Churlmenia	Street3	789	7	8	9
583a500b-aa8f-467f-acdf-7eca4ce2657b	Churlmenia	Street4	101	10	11	12
46ffec69-fbdb-48cb-8277-e89ceaaf78b2	Churlmenia	Street5	121	13	14	15
\.


--
-- Data for Name: administrators; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.administrators (id, first_name, last_name) FROM stdin;
d96d3835-a49c-480d-a1bb-2b0fe6064b79	Admin1_First	Admin1_Last
453c1fc3-4aec-46b5-8b12-bed7eae87164	Admin2_First	Admin2_Last
ce2d09db-72b6-480c-8538-8405792ee9ab	Admin3_First	Admin3_Last
c63b5c7a-cc84-422f-ac17-490ef62dad1a	Admin4_First	Admin4_Last
8b72ca43-55ef-4359-a0e8-46649a2cbc8e	Admin5_First	Admin5_Last
\.


--
-- Data for Name: clients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients (id, first_name, last_name, balance, address_id) FROM stdin;
3a0f444d-f8ea-474d-b3f5-fd5995a75d38	Client1_First	Client1_Last	100.5	583a500b-aa8f-467f-acdf-7eca4ce2657b
ef94649d-f4da-4891-b420-2e4ec8146d77	Client2_First	Client2_Last	200.75	46ffec69-fbdb-48cb-8277-e89ceaaf78b2
8ad0566f-0796-4dba-aa6c-f4130d6183dc	Client3_First	Client3_Last	300.25	835689c0-dc36-4634-9db2-3ff354fec170
d4db19a2-8d3d-47cd-b764-686ba5028d36	Client4_First	Client4_Last	400.75	0cba73cd-25b9-47a7-b351-5fa273882b7e
90828851-d769-4e09-9930-03019f8451b6	Client5_First	Client5_Last	500.25	d296a4db-4888-42a1-aee9-2121eb308093
\.


--
-- Data for Name: clients_loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients_loginform (login, password, client_id) FROM stdin;
user1	password1	3a0f444d-f8ea-474d-b3f5-fd5995a75d38
user2	password2	ef94649d-f4da-4891-b420-2e4ec8146d77
user3	password3	8ad0566f-0796-4dba-aa6c-f4130d6183dc
user4	password4	d4db19a2-8d3d-47cd-b764-686ba5028d36
user5	password5	90828851-d769-4e09-9930-03019f8451b6
\.


--
-- Data for Name: couriers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.couriers (id, first_name, last_name, registration, address_id) FROM stdin;
e05ee7e8-5a76-4607-b4cd-70b31d81803d	Courier1_First	Courier1_Last	t	\N
333da755-632c-4b5d-9969-03e322fe89a3	Courier2_First	Courier2_Last	t	\N
96d590c5-7cd5-4715-a831-8aa2b43f9e3d	Courier3_First	Courier3_Last	t	\N
13956791-c21d-47b3-8924-f1bee1650ef6	Courier4_First	Courier4_Last	t	\N
bbca1683-5d57-4e01-90bc-5fb1f4302155	Courier5_First	Courier5_Last	t	\N
\.


--
-- Data for Name: couriers_loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.couriers_loginform (login, password, courier_id) FROM stdin;
courier1	courierpass1	\N
courier2	courierpass2	\N
courier3	courierpass3	\N
courier4	courierpass4	\N
courier5	courierpass5	\N
\.


--
-- Data for Name: loginform; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.loginform (login, password, client_id) FROM stdin;
user1	password1	8f12edc6-d7c1-412d-ad31-4efbc006edd5
user2	password2	7020b467-2fba-456c-a28e-8b36733be207
user3	password3	3aa3f485-5676-4c75-9574-4c9b12c056c2
user4	password4	03771bf4-8a62-4df7-a50d-74bf600b5de2
user5	password5	33f3bda3-12ec-4c1d-ad9c-1efb3f7f29f5
\.


--
-- Data for Name: order_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.order_products (amount, order_id, product_id) FROM stdin;
2	569bfba6-8f6a-4cd5-a261-3e9523ddf641	9e149f84-e921-4fe5-b119-e49c708c5e88
1	ed197268-b25b-419a-b746-e18ed8bd0894	3da5cf0e-1219-4b25-b857-9e7eb38218e0
3	ed197268-b25b-419a-b746-e18ed8bd0894	20415f0c-7b89-49b9-bfd5-f677626b99fc
4	569bfba6-8f6a-4cd5-a261-3e9523ddf641	3da5cf0e-1219-4b25-b857-9e7eb38218e0
5	2ab4b2a2-c22a-44bc-a902-ff22c5bf6503	20415f0c-7b89-49b9-bfd5-f677626b99fc
\.


--
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.orders (id, price, creation_time, delivery_time, status, client_id, courier_id) FROM stdin;
2ab4b2a2-c22a-44bc-a902-ff22c5bf6503	49.99	2023-12-10 12:02:43.876329	\N	Поиск курьера	3a0f444d-f8ea-474d-b3f5-fd5995a75d38	333da755-632c-4b5d-9969-03e322fe89a3
569bfba6-8f6a-4cd5-a261-3e9523ddf641	59.99	2023-12-10 12:02:43.876329	\N	Поиск курьера	ef94649d-f4da-4891-b420-2e4ec8146d77	bbca1683-5d57-4e01-90bc-5fb1f4302155
1148684f-2506-4ce4-afda-fea087440875	69.99	2023-12-10 12:02:43.876329	\N	У курьера	8ad0566f-0796-4dba-aa6c-f4130d6183dc	96d590c5-7cd5-4715-a831-8aa2b43f9e3d
7e4e3bae-004d-4b0e-9842-c466c7ba6193	79.99	2023-12-10 12:02:43.876329	\N	У курьера	d4db19a2-8d3d-47cd-b764-686ba5028d36	96d590c5-7cd5-4715-a831-8aa2b43f9e3d
ed197268-b25b-419a-b746-e18ed8bd0894	89.99	2023-12-10 12:02:43.876329	\N	У курьера	90828851-d769-4e09-9930-03019f8451b6	e05ee7e8-5a76-4607-b4cd-70b31d81803d
\.


--
-- Data for Name: products; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products (id, name, price, weight, description, image, administrator_id) FROM stdin;
20415f0c-7b89-49b9-bfd5-f677626b99fc	Product1	19.99	0.5	Description1	\N	\N
87fac2df-a93d-499a-b95f-11e76348a997	Product2	29.99	1	Description2	\N	\N
1bd05a48-c54c-4869-bb6a-adcc6c5abb27	Product3	39.99	1.5	Description3	\N	\N
3da5cf0e-1219-4b25-b857-9e7eb38218e0	Product4	49.99	2	Description4	\N	\N
9e149f84-e921-4fe5-b119-e49c708c5e88	Product5	59.99	2.5	Description5	\N	\N
\.


--
-- Data for Name: products_stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.products_stores (product_id, store_id) FROM stdin;
\.


--
-- Data for Name: reviews; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reviews (id, mark, client_id, order_id, product_id) FROM stdin;
cbb15f86-4671-4fca-90e6-f642a47457a8	5	3a0f444d-f8ea-474d-b3f5-fd5995a75d38	7e4e3bae-004d-4b0e-9842-c466c7ba6193	9e149f84-e921-4fe5-b119-e49c708c5e88
9f387b48-af23-48b1-8972-572c273864e8	4	ef94649d-f4da-4891-b420-2e4ec8146d77	ed197268-b25b-419a-b746-e18ed8bd0894	20415f0c-7b89-49b9-bfd5-f677626b99fc
08c8f280-ad58-428b-bb00-50568dbd4831	3	8ad0566f-0796-4dba-aa6c-f4130d6183dc	7e4e3bae-004d-4b0e-9842-c466c7ba6193	20415f0c-7b89-49b9-bfd5-f677626b99fc
a8c43183-bee7-4fe1-9ecb-ee8f8d4828ed	2	d4db19a2-8d3d-47cd-b764-686ba5028d36	ed197268-b25b-419a-b746-e18ed8bd0894	9e149f84-e921-4fe5-b119-e49c708c5e88
77921217-966a-4f5f-9282-295fad202c0c	1	90828851-d769-4e09-9930-03019f8451b6	1148684f-2506-4ce4-afda-fea087440875	1bd05a48-c54c-4869-bb6a-adcc6c5abb27
\.


--
-- Data for Name: stores; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.stores (id, reputation, name) FROM stdin;
de66970b-d3e4-4aaa-bf66-038003cdeae7	4	Store1
339064b0-6500-4eeb-bcd7-0c9632abc065	5	Store2
d16da06a-a1ce-4f59-ba6b-a4c1e3f55da9	3	Store3
4ca2c0a1-fe23-4195-8552-95f2202ae841	2	Store4
1529094a-7bc9-41b6-8ef4-75383cf63781	1	Store5
\.


--
-- Name: addresses addresses_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.addresses
    ADD CONSTRAINT addresses_pkey PRIMARY KEY (id);


--
-- Name: administrators administrators_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.administrators
    ADD CONSTRAINT administrators_pkey PRIMARY KEY (id);


--
-- Name: clients_loginform clients_loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients_loginform
    ADD CONSTRAINT clients_loginform_pkey PRIMARY KEY (login);


--
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- Name: couriers_loginform couriers_loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers_loginform
    ADD CONSTRAINT couriers_loginform_pkey PRIMARY KEY (login);


--
-- Name: couriers couriers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers
    ADD CONSTRAINT couriers_pkey PRIMARY KEY (id);


--
-- Name: loginform loginform_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.loginform
    ADD CONSTRAINT loginform_pkey PRIMARY KEY (login);


--
-- Name: order_products order_products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_pkey PRIMARY KEY (order_id, product_id);


--
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- Name: products products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_pkey PRIMARY KEY (id);


--
-- Name: products_stores products_stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_pkey PRIMARY KEY (product_id, store_id);


--
-- Name: reviews reviews_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_pkey PRIMARY KEY (id);


--
-- Name: stores stores_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.stores
    ADD CONSTRAINT stores_pkey PRIMARY KEY (id);


--
-- Name: clients clients_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.addresses(id);


--
-- Name: clients_loginform clients_loginform_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients_loginform
    ADD CONSTRAINT clients_loginform_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: couriers couriers_address_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers
    ADD CONSTRAINT couriers_address_id_fkey FOREIGN KEY (address_id) REFERENCES public.addresses(id);


--
-- Name: couriers_loginform couriers_loginform_courier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.couriers_loginform
    ADD CONSTRAINT couriers_loginform_courier_id_fkey FOREIGN KEY (courier_id) REFERENCES public.couriers(id);


--
-- Name: order_products order_products_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: order_products order_products_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.order_products
    ADD CONSTRAINT order_products_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: orders orders_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: orders orders_courier_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_courier_id_fkey FOREIGN KEY (courier_id) REFERENCES public.couriers(id);


--
-- Name: products products_administrator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products
    ADD CONSTRAINT products_administrator_id_fkey FOREIGN KEY (administrator_id) REFERENCES public.administrators(id);


--
-- Name: products_stores products_stores_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- Name: products_stores products_stores_store_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.products_stores
    ADD CONSTRAINT products_stores_store_id_fkey FOREIGN KEY (store_id) REFERENCES public.stores(id);


--
-- Name: reviews reviews_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.clients(id);


--
-- Name: reviews reviews_order_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_order_id_fkey FOREIGN KEY (order_id) REFERENCES public.orders(id);


--
-- Name: reviews reviews_product_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reviews
    ADD CONSTRAINT reviews_product_id_fkey FOREIGN KEY (product_id) REFERENCES public.products(id);


--
-- PostgreSQL database dump complete
--

